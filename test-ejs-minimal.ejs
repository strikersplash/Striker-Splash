<!-- Test EJS file to isolate syntax errors -->
<div class="container">
  <% if (teams && teams.length > 0) { %> <% teams.forEach(team => { %>
  <div class="team">
    <h5><%= team.name %></h5>
    <% if (team.team_size) { %>
    <span
      class="badge <%= (parseInt(team.current_members) >= team.team_size) ? 'bg-danger' : 'bg-success' %>"
    >
      <%= team.current_members || 0 %>/<%= team.team_size %>
    </span>
    <% } %> <% if (parseInt(team.current_members) >= team.team_size) { %>
    <button disabled>Team Full</button>
    <% } else if (team.is_recruiting) { %>
    <button>Join Team</button>
    <% } else { %>
    <button>Request to Join</button>
    <% } %>
  </div>
  <% }); %> <% } %>
</div>
