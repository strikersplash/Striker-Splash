<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="card">
        <div class="card-header bg-info text-white">
          <h3 class="mb-0">Profile Changes</h3>
        </div>
        <div class="card-body">
          <div class="alert alert-info">
            <h4>
              <i class="bi bi-info-circle"></i> Profile Changes Require Staff
              Assistance
            </h4>
            <p class="mb-3">
              For security and data integrity reasons, all profile changes must
              now be handled by our staff members.
            </p>

            <h5>Current Profile Information:</h5>
            <div class="row mt-3">
              <div class="col-md-6">
                <p><strong>Name:</strong> <%= player.name %></p>
                <p><strong>Phone:</strong> <%= player.phone %></p>
                <p>
                  <strong>Email:</strong> <%= player.email || 'Not provided' %>
                </p>
              </div>
              <div class="col-md-6">
                <p>
                  <strong>Location:</strong>
                  <% if (player.city_village) { %> <%= player.city_village %>,
                  <%= player.residence %> <% } else { %> <%= player.residence %>
                  <% } %>
                </p>
                <p>
                  <strong>Age Group:</strong> <%= player.age_group || 'Adult' %>
                </p>
                <p><strong>Profile Photo:</strong></p>
                <div id="player-profile-avatar-container"></div>
                <script src="/js/avatar.js"></script>
                <script>
                  document.addEventListener("DOMContentLoaded", function () {
                    const avatarContainer = document.getElementById(
                      "player-profile-avatar-container"
                    );
                    const avatar = createAvatar(
                      "<%= player.name %>",
                      100,
                      '<%= player.photo_path || "" %>'
                    );
                    avatar.style.maxHeight = "100px";
                    avatarContainer.appendChild(avatar);
                  });
                </script>
              </div>
            </div>
          </div>

          <div class="alert alert-warning">
            <h5>
              <i class="bi bi-exclamation-triangle"></i> Need to Update Your
              Information?
            </h5>
            <p class="mb-2">
              To make changes to your profile information, please:
            </p>
            <ul class="mb-3">
              <li>Visit our facility and speak with any staff member</li>
              <li>Bring your QR code for verification</li>
              <li>
                Staff can update your name, contact details, and other
                information
              </li>
            </ul>
            <p class="mb-0">
              <strong>Note:</strong> Player names can only be changed up to 2
              times for security purposes.
            </p>
          </div>

          <div class="d-grid gap-2">
            <a href="/player/dashboard" class="btn btn-primary">
              <i class="bi bi-arrow-left"></i> Back to Dashboard
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
